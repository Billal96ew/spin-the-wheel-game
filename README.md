<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ЁЯО░ рж╕рзНржкрж┐ржи ржХрж░рзБржи ржУ ржкрзБрж░рж╕рзНржХрж╛рж░ ржЬрж┐рждрзБржи!</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; background-color: #f4f4f4; }
        .container { max-width: 400px; margin: auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0px 0px 10px gray; }
        #wheelCanvas { margin-top: 20px; border: 4px solid #333; border-radius: 50%; background: #fff; }
        button { padding: 10px 20px; font-size: 18px; cursor: pointer; background: green; color: white; border: none; border-radius: 5px; margin-top: 15px; }
        #rewardMessage, #withdrawSection, #loadingSection, #submitForm, #confirmationMessage, #shareSection { display: none; margin-top: 20px; }
        input { padding: 10px; margin: 5px; width: 90%; border: 1px solid #ccc; border-radius: 5px; }
        .error { color: red; font-size: 14px; display: none; }
        .share-buttons { display: flex; justify-content: center; gap: 10px; margin-top: 20px; }
        .share-buttons button { background: #007bff; display: flex; align-items: center; gap: 5px; }
        .share-link { margin-top: 10px; font-size: 14px; color: #333; }
        .share-link textarea { width: 100%; height: 60px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; resize: none; }
        .copy-button { margin-top: 10px; background: #28a745; }
        .copy-button.copied { background: #6c757d; }
        .share-instruction { font-size: 14px; color: #555; margin-top: 10px; }
        .social-icons { width: 20px; height: 20px; }
        .popup-button { background: #ff5722; margin-top: 20px; }
        .ads-section { margin-top: 20px; padding: 10px; background: #f9f9f9; border: 1px solid #ccc; border-radius: 5px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ЁЯОп рж╕рзНржкрж┐ржи ржХрж░рзБржи ржУ ржкрзБрж░рж╕рзНржХрж╛рж░ ржЬрж┐рждрзБржи! ЁЯОБ</h1>
        <canvas id="wheelCanvas" width="300" height="300"></canvas>
        <br>
        <button onclick="spinWheel()">ЁЯО░ рж╕рзНржкрж┐ржи ржХрж░рзБржи</button>

        <!-- ржПржбрж╕ рж╕рзЗржХрж╢ржи -->
        <div class="ads-section">
            <p>ржПржЦрж╛ржирзЗ Adsterra ржПржбрж╕ ржжрзЗржЦрж╛ржирзЛ рж╣ржмрзЗред</p>
        </div>

        <div id="rewardMessage"></div>
        <div id="withdrawSection">
            <h2>ЁЯТ░ ржЙрждрзНрждрзЛрж▓ржи ржХрж░рзБржи</h2>
            <button onclick="showShareSection()">ЁЯУд ржЙрждрзНрждрзЛрж▓ржирзЗрж░ ржЬржирзНржп рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржи</button>
        </div>

        <div id="shareSection">
            <h2>рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржи</h2>
            <p class="share-instruction">ржЙрждрзНрждрзЛрж▓ржи ржХрж░рждрзЗ ржирж┐ржЪрзЗрж░ рж▓рж┐ржЩрзНржХржЯрж┐ ржХржкрж┐ ржХрж░рзЗ ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ рж╕рзЛрж╢рзНржпрж╛рж▓ ржорж┐ржбрж┐рзЯрж╛рзЯ рзл ржЬржиржХрзЗ рж╢рзЗрзЯрж╛рж░ ржХрж░рзБржи:</p>
            <div class="share-link">
                <textarea id="shareLinkText" readonly></textarea>
                <button class="copy-button" onclick="copyShareLink()">ЁЯУЛ рж▓рж┐ржЩрзНржХ ржХржкрж┐ ржХрж░рзБржи</button>
            </div>
            <div class="share-buttons">
                <button onclick="shareOnMessenger()">
                    <img src="https://img.icons8.com/color/48/000000/facebook-messenger.png" class="social-icons" alt="Messenger">
                    ржорзНржпрж╛рж╕рзЗржирзНржЬрж╛рж░
                </button>
                <button onclick="shareOnWhatsApp()">
                    <img src="https://img.icons8.com/color/48/000000/whatsapp.png" class="social-icons" alt="WhatsApp">
                    рж╣рзЛрзЯрж╛ржЯрж╕ржЕрзНржпрж╛ржк
                </button>
            </div>
            <button onclick="showSubmitForm()">рж╢рзЗрзЯрж╛рж░ рж╕ржорзНржкржирзНржи рж╣рзЯрзЗржЫрзЗ</button>
        </div>

        <div id="submitForm">
            <h2>рждржерзНржп рж╕рж╛ржмржорж┐ржЯ ржХрж░рзБржи</h2>
            <form id="withdrawForm">
                <input type="text" id="name" placeholder="ржЖржкржирж╛рж░ ржирж╛ржо" required>
                <div class="error" id="nameError">ржирж╛ржо ржЕржмрж╢рзНржпржЗ ржкрзВрж░ржг ржХрж░рждрзЗ рж╣ржмрзЗред</div>
                <input type="tel" id="phone" placeholder="ржлрзЛржи ржиржорзНржмрж░" required>
                <div class="error" id="phoneError">рж╕ржарж┐ржХ ржлрзЛржи ржиржорзНржмрж░ ржжрж┐ржи (рззрзз ржбрж┐ржЬрж┐ржЯ)ред</div>
                <input type="email" id="email" placeholder="ржЗржорзЗржЗрж▓ ржарж┐ржХрж╛ржирж╛" required>
                <div class="error" id="emailError">рж╕ржарж┐ржХ ржЗржорзЗржЗрж▓ ржжрж┐ржиред</div>
                <input type="text" id="amount" placeholder="ржЙрждрзНрждрзЛрж▓ржирзЗрж░ ржкрж░рж┐ржорж╛ржг" readonly>
                <button type="submit">рж╕рж╛ржмржорж┐ржЯ ржХрж░рзБржи</button>
            </form>
        </div>

        <div id="loadingSection">
            <h2>тП│ ржЙрждрзНрждрзЛрж▓ржирзЗрж░ ржЕржирзБрж░рзЛржз ржЧрзНрж░рж╣ржг рж╣рзЯрзЗржЫрзЗ...</h2>
            <p>тЬЕ ржЖржорж░рж╛ рзнрзи ржШржгрзНржЯрж╛рж░ ржоржзрзНржпрзЗ ржЯрж╛ржХрж╛ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗржмред ржзржирзНржпржмрж╛ржж!</p>
        </div>

        <div id="confirmationMessage">
            <h2>ЁЯУй ржХржиржлрж╛рж░рзНржорзЗрж╢ржи ржорзЗрж╕рзЗржЬ</h2>
            <p id="confirmationText"></p>
            <button class="popup-button" onclick="confirmAction()">ржХржиржлрж╛рж░рзНржо ржХрж░рзБржи</button>
            <button onclick="resetGame()">ржЖржмрж╛рж░ ржЦрзЗрж▓рзБржи</button>
        </div>
    </div>

    <script>
        let canvas = document.getElementById("wheelCanvas");
        let ctx = canvas.getContext("2d");
        let prizes = ["рззрзж ржЯрж╛ржХрж╛", "рзирзж ржЯрж╛ржХрж╛", "рзлрзж ржЯрж╛ржХрж╛", "рззрзжрзж ржЯрж╛ржХрж╛", "рзирзжрзж ржЯрж╛ржХрж╛", "рзлрзжрзж ржЯрж╛ржХрж╛", "рззрзжрзжрзж ржЯрж╛ржХрж╛"];
        let colors = ["red", "blue", "green", "orange", "purple", "pink", "yellow"];
        let startAngle = 0;
        let spinAngle = 0;
        let spinning = false;
        let selectedPrize = "";

        // Adsterra рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ рж▓рж┐ржВржХ
        const adsterraLink = "https://www.adsterra.com";

        // ржХржиржлрж╛рж░рзНржорзЗрж╢ржи рж▓рж┐ржВржХ
        const confirmationLink = "https://www.example.com";

        // ржЧрзЗржоржЯрж┐ ржХржоржкрзНрж▓рж┐ржЯ ржирж╛ ржХрж░рж▓рзЗ ржмрж╛ ржмрзЗржХ ржЖрж╕рждрзЗ ржЪрж╛ржЗрж▓рзЗ Adsterra-рж░ рж▓рж┐ржВржХрзЗ рж░рж┐ржбрж╛ржЗрж░рзЗржХрзНржЯ
        window.addEventListener("beforeunload", function(event) {
            if (!document.getElementById("confirmationMessage").style.display === "block") {
                window.location.href = adsterraLink;
            }
        });

        function drawWheel() {
            let arc = Math.PI / (prizes.length / 2);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            for (let i = 0; i < prizes.length; i++) {
                let angle = startAngle + i * arc;
                ctx.fillStyle = colors[i];
                ctx.beginPath();
                ctx.moveTo(150, 150);
                ctx.arc(150, 150, 150, angle, angle + arc);
                ctx.lineTo(150, 150);
                ctx.fill();
                ctx.fillStyle = "white";
                ctx.font = "14px Arial";
                ctx.fillText(prizes[i], 120 + 100 * Math.cos(angle + arc / 2), 150 + 100 * Math.sin(angle + arc / 2));
            }
        }

        function spinWheel() {
            if (spinning) return;
            spinning = true;
            let randomIndex = Math.floor(Math.random() * prizes.length);
            selectedPrize = prizes[randomIndex];
            spinAngle = 3600 + randomIndex * (360 / prizes.length);
            let spinInterval = setInterval(() => {
                startAngle += 10 * Math.PI / 180;
                if (spinAngle > 0) {
                    spinAngle -= 10;
                } else {
                    clearInterval(spinInterval);
                    spinning = false;
                    document.getElementById("rewardMessage").innerHTML = `<h2>ЁЯОЙ ржЕржнрж┐ржиржирзНржжржи! ржЖржкржирж┐ ржЬрж┐рждрзЗржЫрзЗржи ${selectedPrize}!</h2>`;
                    document.getElementById("rewardMessage").style.display = "block";
                    document.getElementById("withdrawSection").style.display = "block";
                }
                drawWheel();
            }, 20);
        }

        function showShareSection() {
            document.getElementById("withdrawSection").style.display = "none";
            document.getElementById("shareSection").style.display = "block";
            generateShareLink();
        }

        function generateShareLink() {
            let shareMessage = `ржЖржорж┐ ржПржЗ ржЧрзЗржоржЯрж┐рждрзЗ ${selectedPrize} ржЬрж┐рждрзЗржЫрж┐! ржЖржкржирж┐ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗ ржжрзЗржЦрзБржи: ${window.location.href}`;
            document.getElementById("shareLinkText").value = shareMessage;
        }

        function copyShareLink() {
            let shareLinkText = document.getElementById("shareLinkText");
            shareLinkText.select();
            document.execCommand("copy");
            let copyButton = document.querySelector(".copy-button");
            copyButton.textContent = "тЬФя╕П рж▓рж┐ржЩрзНржХ ржХржкрж┐ рж╣рзЯрзЗржЫрзЗ!";
            copyButton.classList.add("copied");
            setTimeout(() => {
                copyButton.textContent = "ЁЯУЛ рж▓рж┐ржЩрзНржХ ржХржкрж┐ ржХрж░рзБржи";
                copyButton.classList.remove("copied");
            }, 2000);
        }

        function shareOnMessenger() {
            let shareMessage = `ржЖржорж┐ ржПржЗ ржЧрзЗржоржЯрж┐рждрзЗ ${selectedPrize} ржЬрж┐рждрзЗржЫрж┐! ржЖржкржирж┐ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗ ржжрзЗржЦрзБржи: ${window.location.href}`;
            let messengerLink = `https://www.facebook.com/dialog/send?link=${encodeURIComponent(window.location.href)}&app_id=YOUR_APP_ID&redirect_uri=${encodeURIComponent(window.location.href)}`;
            window.open(messengerLink, "_blank");
        }

        function shareOnWhatsApp() {
            let shareMessage = `ржЖржорж┐ ржПржЗ ржЧрзЗржоржЯрж┐рждрзЗ ${selectedPrize} ржЬрж┐рждрзЗржЫрж┐! ржЖржкржирж┐ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзЗ ржжрзЗржЦрзБржи: ${window.location.href}`;
            let whatsappLink = `https://wa.me/?text=${encodeURIComponent(shareMessage)}`;
            window.open(whatsappLink, "_blank");
        }

        function showSubmitForm() {
            document.getElementById("shareSection").style.display = "none";
            document.getElementById("submitForm").style.display = "block";
            document.getElementById("amount").value = selectedPrize;
        }

        function validateForm() {
            let name = document.getElementById("name").value.trim();
            let phone = document.getElementById("phone").value.trim();
            let email = document.getElementById("email").value.trim();
            let isValid = true;

            if (name === "") {
                document.getElementById("nameError").style.display = "block";
                isValid = false;
            } else {
                document.getElementById("nameError").style.display = "none";
            }

            if (!/^\d{11}$/.test(phone)) {
                document.getElementById("phoneError").style.display = "block";
                isValid = false;
            } else {
                document.getElementById("phoneError").style.display = "none";
            }

            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                document.getElementById("emailError").style.display = "block";
                isValid = false;
            } else {
                document.getElementById("emailError").style.display = "none";
            }

            return isValid;
        }

        document.getElementById("withdrawForm").addEventListener("submit", function(event) {
            event.preventDefault();
            if (!validateForm()) return;

            let name = document.getElementById("name").value;
            let phone = document.getElementById("phone").value;
            let email = document.getElementById("email").value;
            let amount = document.getElementById("amount").value;

            // рж╕рж┐ржорзБрж▓рзЗржЯрзЗржб API ржХрж▓
            fetch("https://jsonplaceholder.typicode.com/posts", {
                method: "POST",
                body: JSON.stringify({ name, phone, email, amount }),
                headers: { "Content-type": "application/json; charset=UTF-8" }
            })
            .then(response => response.json())
            .then(data => {
                console.log("рж╕рж╛рж░рзНржнрж╛рж░ рж░рзЗрж╕ржкржирзНрж╕:", data);
                document.getElementById("submitForm").style.display = "none";
                document.getElementById("loadingSection").style.display = "block";

                setTimeout(() => {
                    document.getElementById("loadingSection").style.display = "none";
                    document.getElementById("confirmationMessage").style.display = "block";
                    document.getElementById("confirmationText").innerHTML = `
                        ржЖржкржирж╛рж░ ржЙрждрзНрждрзЛрж▓ржирзЗрж░ ржЕржирзБрж░рзЛржз рж╕ржлрж▓ржнрж╛ржмрзЗ ржЬржорж╛ рж╣рзЯрзЗржЫрзЗред<br>
                        ржирж╛ржо: ${name}<br>
                        ржлрзЛржи ржиржорзНржмрж░: ${phone}<br>
                        ржЗржорзЗржЗрж▓: ${email}<br>
                        ржЙрждрзНрждрзЛрж▓ржирзЗрж░ ржкрж░рж┐ржорж╛ржг: ${amount}
                    `;
                }, 3000);
            })
            .catch(error => console.error("рждрзНрж░рзБржЯрж┐:", error));
        });

        function confirmAction() {
            window.location.href = confirmationLink;
        }

        function resetGame() {
            document.getElementById("confirmationMessage").style.display = "none";
            document.getElementById("rewardMessage").style.display = "none";
            document.getElementById("withdrawSection").style.display = "none";
            document.getElementById("submitForm").style.display = "none";
            document.getElementById("loadingSection").style.display = "none";
            document.getElementById("shareSection").style.display = "none";
            document.getElementById("name").value = "";
            document.getElementById("phone").value = "";
            document.getElementById("email").value = "";
            document.getElementById("amount").value = "";
            selectedPrize = "";
            drawWheel();
        }

        drawWheel();
    </script>

</body>
</html>
